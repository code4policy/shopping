{
  "name": "Ubuntu (auto-fork)",
  "image": "mcr.microsoft.com/devcontainers/base:jammy",

  // Install GitHub CLI so the script can fork & rewire remotes.
  "features": {
    "ghcr.io/devcontainers/features/github-cli:1": {}
  },

  "customizations": {
    "vscode": {
      "extensions": [
        "ritwickdey.LiveServer",
        "ghost-stage.ghost-stage"
      ],
      "settings": {
        "git.postCommitCommand": "push",
        "git.rememberPostCommitCommand": true,
        "git.enableSmartCommit": true,
        "git.showPushSuccessNotification": true
      }
    }
  },

  // Make the script executable (if needed) and run it automatically.
  // Also configure git to auto-setup remote tracking and remember PR preference
  "postCreateCommand": "bash -lc '.devcontainer/auto-fork.sh; git config --global push.default current; git config --global push.autoSetupRemote true'"

  // "forwardPorts": [],
  // "remoteUser": "root"
}